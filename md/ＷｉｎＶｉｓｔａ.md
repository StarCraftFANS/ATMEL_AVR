[にっき](にっき.md) 
- - - -
#### せっかく６７１Ｔ-Ｍマザーに換えたのでＷｉｎＶｉｓｔａを入れてみた。
これは、ＡＶＲフリークから見たＶｉｓｔａレポートです。
- ＳｉＳ６７１に搭載されているＭｉｒａｇｅ３は速度評価**スコア１.０**（最低ランク）
    - 最低ランクだが、Ａｅｒｏをイネーブルにすることが出来た。
    - ＦＬＩＰ３Ｄとやらを使ってみたが、これはほんとに**不要な機能**だ。
    - どのバージョンのＷｉｎｄｏｗｓにもＡＬＴ＋ＴＡＢでタスクスイッチする機能がある。
    - ＶｉｓｔａではＷｉｎ（通称ゲイツキー）＋ＴＡＢでＦＬＩＰ３Ｄが出てくる。
    - で、オープンしているウィンドウが３Ｄ的に表示され、ＴＡＢを押すたびに１枚ずつシフトする。
    - キーを離すと、３Ｄ表示の一番手前のＷｉｎｄｏｗが手前になるようにタスク切り替えされる。

<!-- dummy comment line for breaking list -->

極論すると、ＡＬＴ＋ＴＡＢの切り替えＰＯＰＵＰがデカ３Ｄアイコン化（？）されただけの**こけおどし**である。

- Ａｅｒｏはウィンドウ（主に枠部分）を半透明にするが、かえって見にくいのでデフォルトＯＦＦだな。
- じゃあＶｉｓｔａの長所って、なんだったんだろう。
    - **ＸＰ用アプリが動かないところ**

<!-- dummy comment line for breaking list -->

- - - -

#### ＡＶＲ＿Ｍｏｎｉｔが動かない。
- ＬＩＢＵＳＢドライバーの組み込みはなんとか通過した。
- ＬＩＢＵＳＢの初期化の最後（set_configuration() ）でエラー。

<!-- dummy comment line for breaking list -->

- ベンチマークできず。

<!-- dummy comment line for breaking list -->

気を取り直して環境整備
- MinGWをインストール。
- monit.exeのプログラムを修正し、control転送のベンチに切り替え。
- 結果はcontrol-outで８ｋＢ/ｓ。
- bulk転送は出来ないらしい。

<!-- dummy comment line for breaking list -->


- - - -
#### それから、ＨＩＤａｓｐが動かない。
	src> avrspx -ph -d1 main.hex
	ERROR: fail to OpenTheHid()
	HIDASP not fonud.

これじゃあ誰だって（Ｖｉｓｔａが好きだとしても）、ＸＰに戻してしまうよ。
~
- SIZE(32){使えないＯＳ、それはＶｉｓｔａ！}

<!-- dummy comment line for breaking list -->
~
- - - -
#### 動かないからといって、引き下がるわけではない。
- libusb自体はちゃんと動いている。monit.exeによればusb device enumulationは一応動作しているし

<!-- dummy comment line for breaking list -->
set_configuration()が出来ないのはなぜかわからないけれどcontrol転送の速度を計ることは出来た。
- set_configuration()が駄目なのは、もしかしたらデバイス定義そのものが腐っている可能性があるのでそっちを追求すべし。
- 他のＯＳではどうか？Ｌｉｎｕｘにカーネルパッチを当てて試してみたい。
- むしろavrspxが動かないことが謎だ。ＨＩＤ自体はＭｉｃｒｏｓｏｆｔ定義なのでサポートされないはずはないし。
    - 2008-5月追記：[工研Wiki](http://delegate.uec.ac.jp:8081/club/koken/wiki/?AVR%2FHIDasp) に、解決法が書かれています。
    
    		hidasp.c
    		DeviceInfoSet=SetupDiGetClassDevs(&amp;HidGuid,"",NULL,DIGCF_PRESENT | DIGCF_DEVICEINTERFACE);
    		 ↓
    		DeviceInfoSet=SetupDiGetClassDevs(&amp;HidGuid,NULL,NULL,DIGCF_PRESENT | DIGCF_DEVICEINTERFACE);

<!-- dummy comment line for breaking list -->
- - - -
#### ほんとうに動かないんだとしたら・・・
- ＡＶＲ＿Ｍｏｎｉｔのほうは元々規格外動作なので諦めるとしても、ＨＩＤａｓｐが動かないというのは引き下がれない。
- Ｖｉｓｔａが、ブーイングの嵐で市場から退場してくれるなら、まだ良いが。
- 旧ＯＳであるＸＰは今後発売されるＰＣにインストールされる可能性はほぼゼロ。
- 辛うじてＤＥＬＬなど注文販売で、ＸＰのインストール選択肢が残っているだけというのが実情。

<!-- dummy comment line for breaking list -->

結局Ｖｉｓｔａは、アプリケーション強制ＶｅｒｓｉｏｎＵＰの踏み絵になっている。
- Ｖｉｓｔａに対応できないアプリはいずれ（１年〜２年以内？）淘汰される。
- 本来ならばＶｉｓｔａそのものが淘汰されるべきだが、そうはならない。

<!-- dummy comment line for breaking list -->
~
- じゃあ、どうすればいいの？
    - Ｌｉｎｕｘに移行する。
    - 強制ＶｅｒｓｉｏｎＵＰの洗礼を受ける。

<!-- dummy comment line for breaking list -->

SIZE(32){二択。}
- ＶｉｓｔａだってＳＰ２((サービスパックという名称はいかにも顧客サービスだと云わんばかりだが、バグフィックスＰａｔｃｈのことであり瑕疵の修正である。まあ初期バージョンはＭＭＯで云うところの大規模有料ベータテストだと云えなくもない・・・・))が出るころにはハードウェア性能やメモリー搭載量がＯＳに追いついてくる。
- それはＸＰ　ＳＰ２とかＷｉｎ２０００で皆が学習済みだ。
- セキュリティ強化に関しては不可避なのでアプリ環境やドライバー開発は自由が少なくなってくる。
- だからといって、いつまでもＸＰにしがみついているというのは、まるで俺がつい先日までＷｉｎｄｏｗｓ９８を使い続けていたのと同じで、ごく少数派の行動に過ぎない。

